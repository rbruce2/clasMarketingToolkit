<p class="modTitle">Reports - iSearch Profile Audit</p>
<span class="floatRightTop blueBtn"><a href="#!/reports">More Reports</a></span>

<!-- Report Request Form -->
<div class="md-padding fade" flex layout-sm="column" ng-if="!vm.ranReport">
    <md-card class="fullHeight">
        <md-card-content>
            <br>
            <h2 class="text-center">Which school/department would you like to audit?</h2><br>

            <div layout="row" flex="50" class="centerRow">
                <md-select ng-model="vm.department" placeholder="School/Department" class="centerRow">
                  <md-option value="1409"><strong>College of Liberal Arts & Sciences</strong></md-option>
                  <md-option value="0" flex-offset="5">Aerospace Studies</md-option>
                  <md-option value="1" flex-offset="5">American Indian Policy Institute</md-option>
                  <md-option value="2" flex-offset="5">American Indian Studies</md-option>
                  <md-option value="3" flex-offset="5">Az Ctr Medieval/Renais Studies</md-option>
                  <md-option value="4" flex-offset="5">Center For Asian Research</md-option>
                  <md-option value="5" flex-offset="5">Center for Bioenergy & Photosynthesis</md-option>
                  <md-option value="6" flex-offset="5">Center For Film Media Research</md-option>
                  <md-option value="7" flex-offset="5">Center for Meteorite Studies</md-option>
                  <md-option value="8" flex-offset="5">CLAS Advancement</md-option>
                  <md-option value="9" flex-offset="5">CLAS IDT</md-option>
                  <md-option value="10" flex-offset="5">CLAS Journals</md-option>
                  <md-option value="11" flex-offset="5">CLAS MLS Program</md-option>
                  <md-option value="12" flex-offset="5">CLAS Office of Student & Acad</md-option>
                  <md-option value="13" flex-offset="5">CLAS Res & Facil</md-option>
                  <md-option value="14" flex-offset="5">CLAS Research Technical Serv</md-option>
                  <md-option value="15" flex-offset="5">Department of Physics</md-option>
                  <md-option value="16" flex-offset="5">English</md-option>
                  <md-option value="17" flex-offset="5">Gerontology</md-option>
                  <md-option value="18" flex-offset="5">Hispanic Research Center</md-option>
                  <md-option value="19" flex-offset="5">Hugh Downs School Of Human Communication</md-option>
                  <md-option value="20" flex-offset="5">Inst For Social Science Rsch</md-option>
                  <md-option value="21" flex-offset="5">Institute Humanities Research</md-option>
                  <md-option value="22" flex-offset="5">Institute of Human Origins</md-option>
                  <md-option value="23" flex-offset="5">Jewish Studies</md-option>
                  <md-option value="24" flex-offset="5">Kinesiology Peb East</md-option>
                  <md-option value="25" flex-offset="5">Kinesiology Peb West</md-option>
                  <md-option value="26" flex-offset="5">LeRoy Eyring CSSS</md-option>
                  <md-option value="27" flex-offset="5">Lincoln Center Applied Ethics</md-option>
                  <md-option value="28" flex-offset="5">Mathematics</md-option>
                  <md-option value="29" flex-offset="5">MCMSC</md-option>
                  <md-option value="30" flex-offset="5">Melikian Center</md-option>
                  <md-option value="31" flex-offset="5">Military Science</md-option>
                  <md-option value="32" flex-offset="5">NACTS</md-option>
                  <md-option value="33" flex-offset="5">Naval Science</md-option>
                  <md-option value="34" flex-offset="5">Office Of Climatology</md-option>
                  <md-option value="35" flex-offset="5">Origins</md-option>
                  <md-option value="36" flex-offset="5">Piper Center</md-option>
                  <md-option value="37" flex-offset="5">Prgm Soc Dynamics & Complexity</md-option>
                  <md-option value="38" flex-offset="5">PRIME Center</md-option>
                  <md-option value="39" flex-offset="5">Program Metabolic Biology</md-option>
                  <md-option value="40" flex-offset="5">Project Humanities</md-option>
                  <md-option value="41" flex-offset="5">Psychology</md-option>
                  <md-option value="42" flex-offset="5">School of Civic and Economic Thought and Leadership</md-option>
                  <md-option value="43" flex-offset="5">School Of Earth and Space Exploration</md-option>
                  <md-option value="44" flex-offset="5">School of Geog Sci & Urban Pln</md-option>
                  <md-option value="45" flex-offset="5">School of Human Evolution and Social Change</md-option>
                  <md-option value="46" flex-offset="5">School of Life Sciences</md-option>
                  <md-option value="47" flex-offset="5">School of Molecular Sciences</md-option>
                  <md-option value="48" flex-offset="5">School of Politics & Global St</md-option>
                  <md-option value="49" flex-offset="5">School of Social Transformation</md-option>
                  <md-option value="50" flex-offset="5">School of Transborder Studies</md-option>
                  <md-option value="51" flex-offset="5">SHPRS</md-option>
                  <md-option value="52" flex-offset="5">SILC</md-option>
                  <md-option value="53" flex-offset="5">Study Of Religion & Conflict</md-option>
                  <md-option value="54" flex-offset="5">The Beyond Center</md-option>
                  <md-option value="55" flex-offset="5">The Sanford School</md-option>
                </md-select>
            </div>

            <div class="text-center" style="padding-top:25px;">
              <span class="blueBtn"><a href="#!/reports/isearchaudit" ng-click="vm.runProfileAudit()">Run</a></span>
            </div>

        </md-card-content>
    </md-card>
</div>
<!-- END: Report Request Form -->

<!-- Report Results -->
<div class="md-padding" flex layout-sm="column">
    <md-card class="">
        <!-- loader -->
        <!-- <md-progress-linear md-mode="indeterminate" ng-if="vm.loading()"></md-progress-linear> -->
        <md-card-content id="loading" ng-if="vm.loading()" class="text-center">
          <!-- loading...{{load_notes}} -->
          <h2 class="text-center" style="margin-bottom:0px;">Generating iSearch Audit Report</h2><br>
          <img src="/app/assets/images/searchReportnodither.gif" alt="" style="width:400px;">
          <p style="padding-bottom:25px;font-weight:bold;">This may take a few minutes to load. Please be patient and <u>do not reload this page.</u></p>
        </md-card-content>

        <!-- isearch Report -->
        <md-card-content class="fade" ng-if="!vm.loading() && vm.reportDone">
            <br>
            <h2 class="text-center">iSearch Profile Audit Report</h2><span class="floatRightTop blueBtn ng-scope"><a href="#!/reports/isearchaudit">Back</a></span><br>

            <div class="reportResults" layout="row">

              <div flex="70" class="">
                <div class="userResult" ng-repeat="user in vm.isearch_results | filter: {audit_score: score} track by $index" ng-click="vm.togglePageslide($index)">
                  <img ng-src="{{user.photoUrl}}" fallback-src="/app/assets/images/imgFallback.png" alt="">
                  <p>
                    <strong>{{user.displayName}}</strong>
                    <span class="resultPriDep">{{user.primaryDepartment}}
                      <span ng-class="{'complete' : user.audit_score == 100, 'good' : user.audit_score < 100 && user.audit_score > 89, 'fair' : user.audit_score <= 89 && user.audit_score >= 75, 'bad' : user.audit_score < 75}">{{user.audit_score | number:0}}%</span>
                    </span>
                  </p>
                </div>
              </div>


              <div flex="30" layout="column" style="padding-left:28px;margin-top:-7px;">
                <md-subheader style="background-color:#ffffff;">
                <div class="overallResults">
                  <p class="overallTitle">Overall Score</p>
                  <p style="color:#ffffff;padding-bottom:14px;padding-top:14px;"><ng-gauge size="200" type="full" thick="7" used="vm.overall_total | number:0" total="100" cap="round"  foreground-color="#ffffff" background-color="rgba(255,255,255, 0.4)" append="%"></ng-gauge></p>
                </div>

                <div class="">
                  <p><strong>Filter:</strong></p>
                  <p>
                    <input type="text" ng-model="score">
                  </p>
                </div>
                </md-subheader>

              </div>

            </div>

        </md-card-content>
    </md-card>
</div>
<!-- END: Report Results -->

<!-- pageslide template -->
<div class="someClass" ng-if="vm.checked" style="position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.59);">
</div>
<div pageslide ps-open="vm.checked" ps-size="33%">
    <div style="padding:20px" id="demo-right">
      <div class="detailsHeaderInfo">
        <img ng-src="vm.UserSlider.photoUrl" fallback-src="/app/assets/images/imgFallback.png" alt="">
        <div class="dhiLeft">
          <h2>{{vm.UserSlider.displayName}}</h2>
          <p>{{vm.UserSlider.primaryDepartment}}</p>
        </div>
        <div class="dhiRight">
          <a href="" ng-click="vm.togglePageslide()" ><i class="fa fa-close"></i></a>
          <p class="detailsOverallScore" ng-class="{'complete' : vm.UserSlider.audit_score == 100, 'good' : vm.UserSlider.audit_score < 100 && vm.UserSlider.audit_score > 89, 'fair' : vm.UserSlider.audit_score <= 89 && vm.UserSlider.audit_score >= 75, 'bad' : vm.UserSlider.audit_score < 75}">{{vm.UserSlider.audit_score | number:0 }}%</p>
        </div>
      </div>
      <div class="detailsOverview">
        <div class="doLeft">
          <h4>Titles:</h4>
          <ul>
            <li ng-repeat="title in vm.UserSlider.titles track by $index">{{title}}</li>
          </ul>
          <h4>Expertise Areas:</h4>
          <ul>
            <li ng-repeat="area in vm.UserSlider.expertiseAreas track by $index">{{area}}</li>
          </ul>
        </div>
        <div class="doRight">

        </div>
      </div>
      <div class="tabContent">
        <md-tabs md-border-bottom class="asuPalette">
          <md-tab label="Needs Attention" ng-if="vm.UserSlider.audit_score !== 100">
            <md-content class="md-padding" style="background-color:#ffffff;">
              <ang-accordion close-icon-class="fa fa-warning" open-icon-class="fa fa-warning" >
                  <collapsible-item item-title="Missing telephone number" ng-if="vm.UserSlider.audit_phone">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="No picture was found for this profile" ng-if="vm.UserSlider.audit_photoUrl">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="No email was found for this profile" ng-if="vm.UserSlider.audit_email">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Profile does not have a primary title" ng-if="vm.UserSlider.audit_affiliationTitle">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Missing unit affiliation" ng-if="vm.UserSlider.audit_unitName">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Profile does not have any expertise areas" ng-if="vm.UserSlider.audit_expertiseAreas">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Profile should have 3 or more expertise areas" ng-if="vm.UserSlider.audit_expertiseAreas_length">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Missing employee category" ng-if="vm.UserSlider.audit_emplCat">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Missing primary campus location" ng-if="vm.UserSlider.audit_campus">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Profile does not have a mail code" ng-if="vm.UserSlider.audit_mailCode">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Profile does not have a Bio" ng-if="vm.UserSlider.audit_bio">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Bio must be at least 100 words in length" ng-if="vm.UserSlider.audit_bio_min">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Bio must be less than 300 words in length" ng-if="vm.UserSlider.audit_bio_max">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Bio does not seem to be written in 3rd person" ng-if="vm.UserSlider.audit_bio_1stPerson_warning">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Short bio is missing" ng-if="vm.UserSlider.audit_shortBio">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Short bio must be less than 40 words in length" ng-if="vm.UserSlider.audit_shortBio_max">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Short bio includes first name" ng-if="vm.UserSlider.audit_shortBio_firstName">
                      <div>Add work number to profile</div>
                  </collapsible-item>
                  <collapsible-item item-title="Short bio does not seem to be written in 3rd person" ng-if="vm.UserSlider.audit_shortBio_1stPerson_warning">
                      <div>Add work number to profile</div>
                  </collapsible-item>
              </ang-accordion>
            </md-content>
          </md-tab>
          <md-tab label="Bio" ng-if="vm.UserSlider.bio">
            <md-content class="md-padding" style="background-color:#ffffff;">
              <div class="" ng-bind-html="vm.UserSlider.bio">
              </div>
            </md-content>
          </md-tab>
          <md-tab label="Short Bio" ng-if="vm.UserSlider.shortBio">
            <md-content class="md-padding" style="background-color:#ffffff;">
              <div class="" ng-bind-html="vm.UserSlider.shortBio">
              </div>
            </md-content>
          </md-tab>
          <md-tab label="Research" ng-if="vm.UserSlider.publications">
            <md-content class="md-padding" style="background-color:#ffffff;">
              <div class="" ng-bind-html="vm.UserSlider.publications">
              </div>
            </md-content>
          </md-tab>
          <md-tab label="Teaching" ng-if="vm.UserSlider.courses">
            <md-content class="md-padding" style="background-color:#ffffff;">
              <div class="" ng-bind-html="vm.UserSlider.courses">
              </div>
            </md-content>
          </md-tab>
          <md-tab label="Public Work" ng-if="vm.UserSlider.pub_work">
            <md-content class="md-padding" style="background-color:#ffffff;">
              <div class="" ng-bind-html="vm.UserSlider.pub_work">
              </div>
            </md-content>
          </md-tab>
        </md-tabs>
      </div>
      <div class="slideoutFooter">
        <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
          <md-button class="md-raised" ng-click="vm.togglePageslide()">Close</md-button>
          <md-button class="md-raised md-primary" style="color:#ffffff;" ng-href="{{vm.UserSlider.eid}}" target="_blank"><i class="fa fa-user"></i> iSearch Profile</md-button>
        </section>
      </div>
    </div>
</div>
